# Calculate the probability of testing positive for a disease given a 5% false positive rate and a 0.1% infection rate in the population.


# ะัะตะฝะบะฐ ะฒะตัะพััะฝะพััะธ ะดะพััะพะฒะตัะฝะพััะธ ะผะตะดะธัะธะฝัะบะพะณะพ
# (ะฑะธะพัะธะผะธัะตัะบะพะณะพ) ัะตััะฐ
# ะัะตะดะฟะพะปะพะถะธะผ, ััะพ ะฝะตะบะพัะพััะน ัะตัั ะฟัะฐะฒะธะปัะฝะพ ะฟัะตะดัะบะฐะทัะฒะฐะตั
# ะฝะฐะปะธัะธะต ะธะปะธ ะพััััััะฒะธะต ะพะฟัะตะดะตะปะตะฝะฝะพะณะพ ะทะฐะฑะพะปะตะฒะฐะฝะธั ั ะฒะตัะพััะฝะพัััั
# 0,95 .
# ะญัะพ ะทะฝะฐัะธั, ััะพ ะตัะปะธ ัะตะปะพะฒะตะบ ะดะตะนััะฒะธัะตะปัะฝะพ ะฑะพะปะตะฝ, ัะพ ัะตัั
# ะดะฐะตั ะฟะพะปะพะถะธัะตะปัะฝัะน ัะตะทัะปััะฐั ั ะฒะตัะพััะฝะพัััั 0,95, ะฐ ั
# ะฒะตัะพััะฝะพัััั 0,05 ัะตัั ะดะฐะตั ะพััะธัะฐัะตะปัะฝัะน ัะตะทัะปััะฐั.
# ะัะปะธ ะถะต ัะตะปะพะฒะตะบ ะทะดะพัะพะฒ, ัะพ ัะตัั ั ะฒะตัะพััะฝะพัััั 0,95 ะดะฐะตั
# ะพััะธัะฐัะตะปัะฝัะน ัะตะทัะปััะฐั, ะฐ ั ะฒะตัะพััะฝะพัััั 0,05 ัะตัั ะดะฐะตั
# ะฟะพะปะพะถะธัะตะปัะฝัะน ัะตะทัะปััะฐั.
# 1% ะฝะฐัะตะปะตะฝะธั ะธะผะตะตั ััะพ ะทะฐะฑะพะปะตะฒะฐะฝะธะต.
# ะัะตะดะฟะพะปะพะถะธะผ, ััะพ ะั ะฟัะพัะปะธ ัะตััะธัะพะฒะฐะฝะธะต ะธ ะฟะพะปััะธะปะธ
# ะฟะพะปะพะถะธัะตะปัะฝัะน ัะตะทัะปััะฐั. ะะฐะบะพะฒะฐ ะฒะตัะพััะฝะพััั ัะพะณะพ, ััะพ ะฒั
# ะดะตะนััะฒะธัะตะปัะฝะพ ะฑะพะปัะฝั?
# ะัะฐะบ, ะฒัะฟะพะผะฝะธะผ ะฝะตะบะพัะพััะต ะฟะพะฝััะธั ะธะท ัะตะพัะธะธ ะฒะตัะพััะฝะพััะตะน.

# *************ะฃัะปะพะฒะฝะฐั ะฒะตัะพััะฝะพััั*****************
# ะะทะฒะตััะฝะพ, ััะพ ัะพะฑััะธะต ะ ะฟัะพะธะทะพัะปะพ.
# ะะฐะบะพะฒะฐ ะฒะตัะพััะฝะพััั ัะพะณะพ, ััะพ
# ะฟัะพะธะทะพัะปะพ ัะพะฑััะธะต ะ ?
# ะฃัะปะพะฒะฝะฐั ะฒะตัะพััะฝะพััั ัะพะฑััะธั ะ ะฟัะธ
# ััะปะพะฒะธะธ, ััะพ ะฟัะพะธะทะพัะปะพ ัะพะฑััะธะต ะ:

#          ๐(๐ด๐ต)    ๐(๐ด๐ต)/๐     ๐(๐ด๐ต)
# ๐ (๐ด|๐ต) =----- = --------- = ------
#           ๐(๐ต)    ๐(๐ต)/๐      ๐(๐ต)

# ะัะปะธ ๐(๐ด|๐ต) = ๐(๐ด) , ัะพ ๐(๐ด๐ต) = ๐(๐ด)๐(๐ต), ัะปะตะดะพะฒะฐัะตะปัะฝะพ,
# ะ ะธ ะ โ ะฝะตะทะฐะฒะธัะธะผัะต ัะพะฑััะธั.

# ************************ะคะพัะผัะปะฐ ะะฐะนะตัะฐ************************
# ๐ด1, โฏ , ๐ด๐ โ ะฟะพะปะฝะฐั ะณััะฟะฟะฐ ัะพะฑััะธะน,
#                   ๐
# ๐ด๐๐ด๐ = โ , ๐ โ ๐,  U  ๐ด๐ = ฮฉ
#                  ๐=1
# ะคะพัะผัะปะฐ ะฟะพะปะฝะพะน ะฒะตัะพััะฝะพััะธ:
#           n           n
#   ๐(๐ต) = SUM ๐(๐ต๐ด๐) = SUM ๐(๐ต|๐ด๐)๐(๐ด๐)
#          ๐=1          ๐=1

# ะคะพัะผัะปะฐ ะะฐะนะตัะฐ
#                 ๐(๐ด๐๐ต)     ๐(๐ต|๐ด๐)๐(๐ด๐)
#       ๐(๐ด๐|๐ต) = ------- = ------------
#                  ๐(๐ต)         ๐(๐ต)

# ะะฑะพะทะฝะฐัะธะผ ัะพะฑััะธั:
# ๐ด1 โ ะฒั ะฑะพะปัะฝั,
# ๐ด2 โ ะฒั ะทะดะพัะพะฒั,
# ๐ต โ ัะตัั ะฟะพะปะพะถะธัะตะปัะฝัะน.

# ๐(๐ต|๐ด1) = 0,95 ,  ๐(๐ต|๐ด2) = 0,05
# ๐(๐ด1) = 0,01 ,    ๐(๐ด2) = 0,99

# ๐(๐ต) = ๐(๐ต|๐ด1) * ๐(๐ด1) + ๐(๐ต|๐ด2) * ๐(๐ด2) =
# 0.95 โ 0.0001 + 0.05 โ 0.9999 = 0.05009                                   |                # = 0,95 โ 0,01 + 0,05 โ 0,99 = 0,059
#                                                                           |
#             ๐(๐ต|๐ด1) โ ๐(๐ด1)    0,95 โ 0,0001                              |                ๐(๐ต|๐ด1) โ ๐(๐ด1)    0,95 โ 0,01
#  ๐(๐ด1|๐ต) = --------------- = ------------- โ  0.0018965861449391096       |      ๐(๐ด1|๐ต) = --------------- = ------------- โ 0,161
#                   ๐(๐ต)           0.05009                                  |                       ๐(๐ต)             0,059
#                                                                           |
# ะขะฐะบะธะผ ะพะฑัะฐะทะพะผ, ะฝะตัะผะพััั ะฝะฐ ะฟะพะปะพะถะธัะตะปัะฝัะน ัะตะทัะปััะฐั ัะตััะฐ, ะฒั ะฒ            |
# ัะตะฐะปัะฝะพััะธ ะธะผะตะตัะต ััะพ ะทะฐะฑะพะปะตะฒะฐะฝะธะต ะฒัะตะณะพ ะปะธัั ั ะฒะตัะพััะฝะพัััั               |
# 0,0019, ะฐ ั ะฒะตัะพััะฝะพัััั 0,9981 ะฒั ะทะดะพัะพะฒั                                |                   0,16, ะฐ ั ะฒะตัะพััะฝะพัััั 0,84 ะฒั ะทะดะพัะพะฒั

def full_probability(pa1, pba2):
    # ๐(๐ต) = ๐(๐ต|๐ด1) * ๐(๐ด1) + ๐(๐ต|๐ด2) * ๐(๐ด2)
    p_ba1 = 1 - pba2
    p_a2 = 1 - pa1
    p_b = p_ba1 * pa1 + pba2 * p_a2
    print(f"***** = {p_ba1} * {pa1} + {pba2} * {p_a2} = {p_b}")
    return p_b, p_ba1

def bayece(pa1, pba2):
#            ๐(๐ต|๐ด1) โ ๐(๐ด1)   
# ๐(๐ด1|๐ต) = --------------- 
#                 ๐(๐ต)            
    p_b, p_ba1 = full_probability(pa1, pba2)
    p_a1b = p_ba1 * pa1 / p_b
    return p_a1b

ill = 0.0001
false_positive = 0.05

res = bayece(ill, false_positive)
print(res)

